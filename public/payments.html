<!DOCTYPE html>
<html>
<title>Rebus</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<body class="w3-light-grey">

    <!-- Top container -->
    <div class="w3-bar w3-top orange w3-large w3-card-4" style="z-index:4">
        <button class="w3-bar-item w3-button w3-hide-large w3-hover-none w3-hover-text-light-grey" onclick="w3_open();"><i class="fa fa-bars"></i>  Menu</button>
        <span class="w3-bar-item w3-right">Merchant name</span>
    </div>

    <!-- Sidebar/menu -->
    <nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="mySidebar"><br>
        <div class="w3-container">
            <h5>Dashboard</h5>
        </div>
        <div class="w3-bar-block">
            <a href="#" class="w3-bar-item w3-button w3-padding-16 w3-hide-large w3-dark-grey w3-hover-black" onclick="w3_close()" title="close menu"><i class="fa fa-remove fa-fw"></i>  Close Menu</a>
            <a href="/dashboard.html" class="w3-bar-item w3-button w3-padding w3-blue"><i class="fa fa-users fa-fw"></i>  Overview</a>
            <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-money fa-fw"></i>  Payments</a>
            <a href="/customer.html" class="w3-bar-item w3-button w3-padding"><i class="fa fa-users fa-fw"></i>  Customers</a>
            <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-sitemap fa-fw"></i>  Merchant Profile</a>
            <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-file fa-fw"></i>  Reports</a>
            <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-shopping-cart fa-fw"></i>  Marketing</a>
        </div>
    </nav>


    <!-- Overlay effect when opening sidebar on small screens -->
    <div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu"
        id="myOverlay"></div>

    <!-- !PAGE CONTENT! -->
    <div class="w3-main" style="margin-left:300px;margin-top:43px;">

        <!-- Header -->
        <header class="w3-container" style="padding-top:22px">
            <h5><b><i class="fa fa-money"></i> Payments</b></h5>
        </header>

        <div class="w3-container">
            
            <div class="w3-responsive">
                    <div class="row" style="margin-bottom: 50px">
                            
                                    <div class="w3-half">
                                        <div class="w3-quarter">
                                                <select class="w3-select" name="option">
                                                        <option value="" disabled selected>Search by </option>
                                                        <option value="1">Transaction ID</option>
                                                        <option value="2">MSISDN</option>
                                                        <option value="3">Transaction Type</option>
                                                        <option value="3">Account Number</option>
                                                        <option value="3">Amount</option>
                                                        <option value="3">Timestamp</option>
                                                </select>
                                        </div>
                                        <div class="w3-half">
                                                <input class="w3-input w3-border" type="text" placeholder="Search">
                                        </div>
                                        <div class="w3-quarter">
                                                <button class="w3-button orange w3-border">Search</button>
                                        </div>    
                                            
                                    </div>
                                    
                                    <div class="w3-half">
                                    </div>            
                    </div>
                <table class="w3-table-all w3-hoverable w3-card-4 w3-small w3-margin-top">
                    <thead>
                        <tr class="w3-orange">
                            <th>Transaction ID</th>
                            <th>MSISDN</th>
                            <th>Transaction Type</th>
                            <th>Account Number</th>
                            <th>Amount</th>
                            <th>Timestamp</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tr>
                        <td>LEMKFSJFS3</td>
                        <td>0710860780</td>
                        <td>Paybill</td>
                        <td>Antony</td>
                        <td>500</td>
                        <td>13.12.13</td>
                        <td><button onclick="document.getElementById('id01').style.display='block'" class="w3-btn orange w3-border w3-round-large"><i class="fa fa-backward"></i> Reverse</button></td>
                        <div id="id01" class="w3-modal">
                            <div class="w3-modal-content w3-card-4 w3-animate-opacity" style="width: 20%">
                                <header class="w3-container orange">
                                    <span onclick="document.getElementById('id01').style.display='none'" class="w3-button orange w3-xlarge w3-display-topright">&times;</span>
                                    <h3>Reverse Transaction</h3>
                                </header>
                                <div class="w3-container">
                                    <p>Are you sure you want to reverse this transaction?</p>
                                </div>
                                <div class="w3-container w3-light-grey w3-padding">
                                    <button class="w3-button w3-left orange w3-border" onclick="document.getElementById('id01').style.display='none'">Yes</button>
                                    <button class="w3-button w3-right orange w3-border" onclick="document.getElementById('id01').style.display='none'">No</button>
                                </div>
                            </div>
                        </div>

            </div>
            </tr>
            <tr>
                <td>LEMKFSJFS3</td>
                <td>0710860780</td>
                <td>Paybill</td>
                <td>Antony</td>
                <td>500</td>
                <td>13.12.13</td>
                <td><button class="w3-btn w3-lightgray w3-border w3-round-large"><i class="fa fa-backward"></i> Reverse</button></td>
            </tr>
            <tr>
                <td>LEMKFSJFS3</td>
                <td>0710860780</td>
                <td>Paybill</td>
                <td>Antony</td>
                <td>500</td>
                <td>13.12.13</td>
                <td><button class="w3-btn w3-lightgray w3-border w3-round-large"><i class="fa fa-backward"></i> Reverse</button></td>
            </tr>
            </table>
        </div>
    </div>

    <div class="w3-center w3-margin-top">
        <div class="w3-bar w3-border w3-round">
            <a href="#" class="w3-bar-item w3-button">&laquo;</a>
            <a href="#" class="w3-bar-item w3-button orange">1</a>
            <a href="#" class="w3-bar-item w3-button">2</a>
            <a href="#" class="w3-bar-item w3-button">3</a>
            <a href="#" class="w3-bar-item w3-button">4</a>
            <a href="#" class="w3-bar-item w3-button">&raquo;</a>
        </div>
    </div>


    <!-- Footer -->
    <footer class="w3-container w3-padding-16 w3-light-grey">
        <h4>Rebus</h4>
        <p>&copy; Copyright 2017</p>
    </footer>

    <!-- End page content -->
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.3/d3.min.js"></script>
    <script>
        // Get the Sidebar
        var mySidebar = document.getElementById("mySidebar");

        // Get the DIV with overlay effect
        var overlayBg = document.getElementById("myOverlay");

        // Toggle between showing and hiding the sidebar, and add overlay effect
        function w3_open() {
            if (mySidebar.style.display === 'block') {
                mySidebar.style.display = 'none';
                overlayBg.style.display = "none";
            } else {
                mySidebar.style.display = 'block';
                overlayBg.style.display = "block";
            }
        }

        // Close the sidebar with the close button
        function w3_close() {
            mySidebar.style.display = "none";
            overlayBg.style.display = "none";
        }

        // D3 code
        const h = 500;
        const yPadding = 20;
        const xPadding = 25;
        const scale = d3.scaleLinear();


        const payments = [34, 23, 40, 33, 23, 23, 34];
        const customers = [4, 3, 5, 7, 9, 3, 7];



        paymentScale = scale.domain([0, d3.max(payments)]).range([h - yPadding, yPadding]);
        paymentAxis = d3.axisLeft(paymentScale);

        const svg1 = d3.select("#svg1-container")
            .append("svg")
            .attr("height", h)
            .style("width", "100%")
            .attr("class", "w3-card-4")
            .style("background", "lightblue");




        const svg2 = d3.select("#svg2-container")
            .append("svg")
            .attr("height", h)
            .style("width", "100%")
            .attr("class", "w3-card-4")
            .style("background", "lightblue")
            .style("margin", 0);

        svg1.selectAll("rect")
            .data(payments)
            .enter()
            .append("rect")
            .attr("class", "payments-bar")
            .attr("width", "8%")
            .style("margin", "4%")
            .attr("height", d => paymentScale(0) - paymentScale(d))
            .attr("x", (d, i) => 4 + (i * 12) + "%")
            .attr("transform", "translate(" + xPadding + ",0)")
            .attr("y", d => paymentScale(d));

        svg1.append("g")
            .attr("transform", "translate(" + xPadding + ",0)")
            .call(paymentAxis);

        const weekScale = d3.scaleBand().domain(["Mon", "Tue", "Wed", "Thurs", "Fri", "Sat", "Sun"]).range([xPadding, + (svg1.style("width").replace("px", ""))])
            .padding(2 * (d3.select(".payments-bar").style("margin").replace("%", "")));
        const weekAxis = d3.axisBottom(weekScale);

        svg1.append("g")
            .attr("transform", "translate(0" + "," + (h - yPadding) + " )")
            .call(weekAxis);

        /*const svg1 = d3.select("#svg1-container")
            .append("svg")
            .attr("height", h)
            .attr("class", "w3-card-4")
            .style("width", "100%");
        const svg2 = d3.select("#svg2-container")
            .append("svg")
            .attr("height", h)
            .attr("class", "w3-card-4")
            .style("width", "100%");


        svg1.selectAll("rect")
            .data(payments)
            .enter()
            .append("rect")
            .attr("width", 50)
            .attr("fill", "#f44336")
            .attr("height", d => paymentScale(d))
            .attr("x", (d, i) => {
                return i * 70 + 70;
            })
            .attr("y", d => {
                return paymentScale(d);
            })
            .attr("class", "bar")
            .append("title")
            .text(d => d);

        svg1.selectAll("text")
            .data(payments)
            .enter()
            .append("text")
            .attr("x", (d, i) => {
                return i * 70 + 90;
            })
            .attr("y", d => {
                return h - paymentScale(d);
            })
            .text(d => d)
            .attr("fill", "#f44336");


        svg2.selectAll("rect")
            .data(customers)
            .enter()
            .append("rect")
            .attr("width", 50)
            .attr("fill", "#009688")
            .attr("height", d => h - customerScale(0) - customerScale(d))
            .attr("x", (d, i) => {
                return 70 + i * 70;
            })
            .attr("y", d => {
                return  h  - customerScale(d) - padding;
            })
            .attr("class", "bar")
            .append("title")
            .text(d => d);

        svg2.selectAll("text")
            .data(customers)
            .enter()
            .append("text")
            .attr("x", (d, i) => {
                return i * 70 + 90;
            })
            .attr("y", d => {
                return h - customerScale(d) - 5;
            })
            .text(d => d)
            .attr("fill", "#009688");

        svg2.append("g")
        .attr("transform", "translate("+ padding +", 0)")
        .call(customerAxis);
        */
    </script>

</body>

</html>